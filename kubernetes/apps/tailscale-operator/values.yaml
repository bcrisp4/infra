# Base values for tailscale-operator
# Cluster-specific overrides go in kubernetes/clusters/{cluster}/apps/tailscale-operator/values.yaml

# ExternalSecret configuration for 1Password
externalSecret:
  enabled: false
  itemName: ""  # Set in cluster values (e.g., "do-nyc3-prod-tailscale-operator")

# ProxyGroup for HA ingress (shared proxy replicas)
proxyGroup:
  enabled: false
  name: ingress-proxies
  replicas: 2
  proxyClass: ha-ingress
  tags:
    - tag:k8s-ingress

tailscale-operator:
  # OAuth credentials are synced from 1Password via ExternalSecret
  # The operator expects a secret named "operator-oauth" with client_id and client_secret keys
  # Don't set oauth.clientId/clientSecret - the chart will use the pre-existing secret
  oauth: {}

  operatorConfig:
    defaultTags:
      - "tag:k8s-operator"
