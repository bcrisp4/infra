# Default values for tempo umbrella chart

# ExternalSecret for S3 credentials from 1Password
externalSecret:
  enabled: false
  itemName: ""

# Tempo chart values
tempo-distributed:
  tempo:
    revisionHistoryLimit: 0

  # Per-component env expansion config (not global - memcached doesn't understand Tempo args)
  # S3 credentials are injected via extraEnvFrom and expanded with -config.expand-env=true
  ingester:
    extraArgs:
      - -config.expand-env=true
    extraEnvFrom:
      - secretRef:
          name: s3-credentials

  distributor:
    extraArgs:
      - -config.expand-env=true
    extraEnvFrom:
      - secretRef:
          name: s3-credentials

  querier:
    extraArgs:
      - -config.expand-env=true
    extraEnvFrom:
      - secretRef:
          name: s3-credentials

  queryFrontend:
    extraArgs:
      - -config.expand-env=true
    extraEnvFrom:
      - secretRef:
          name: s3-credentials

  compactor:
    extraArgs:
      - -config.expand-env=true
    extraEnvFrom:
      - secretRef:
          name: s3-credentials

  metricsGenerator:
    extraArgs:
      - -config.expand-env=true
    extraEnvFrom:
      - secretRef:
          name: s3-credentials

  # Storage configuration - backend set here, details in cluster values
  storage:
    trace:
      backend: s3

  # Disable built-in MinIO
  minio:
    enabled: false

  # Disable enterprise features
  enterprise:
    enabled: false

  # Enable multi-tenancy
  multitenancyEnabled: true
